{
  "pages": [
    {
      "name": "network_overview",
      "displayName": "Network Overview",
      "layout": [
        {
          "widget": {
            "name": "title_header",
            "textbox_spec": {
              "value": "# ðŸŒ SouthernLink Network Intelligence\n\nReal-time network health monitoring and capacity planning dashboard"
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "filter_state",
            "queries": [
              {
                "name": "filter_state_query",
                "query": {
                  "datasetName": "network_telemetry",
                  "fields": [
                    {
                      "name": "state",
                      "expression": "`state`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "filter",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "state",
                    "displayName": "State"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Filter by State"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 2,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "filter_technology",
            "queries": [
              {
                "name": "filter_tech_query",
                "query": {
                  "datasetName": "network_telemetry",
                  "fields": [
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "filter",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "technology_type",
                    "displayName": "Technology"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Filter by Technology"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 1,
            "width": 2,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "kpi_total_pois",
            "queries": [
              {
                "name": "kpi_total_pois_query",
                "query": {
                  "datasetName": "kpi_metrics",
                  "fields": [
                    {
                      "name": "total_pois",
                      "expression": "`total_pois`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_pois",
                  "displayName": "Total POIs"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total POIs"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "kpi_avg_utilization",
            "queries": [
              {
                "name": "kpi_util_query",
                "query": {
                  "datasetName": "kpi_metrics",
                  "fields": [
                    {
                      "name": "avg_utilization_pct",
                      "expression": "`avg_utilization_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_utilization_pct",
                  "displayName": "Avg Utilization %"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Avg Utilization %"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 2,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "kpi_critical",
            "queries": [
              {
                "name": "kpi_critical_query",
                "query": {
                  "datasetName": "kpi_metrics",
                  "fields": [
                    {
                      "name": "critical_pois",
                      "expression": "`critical_pois`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "critical_pois",
                  "displayName": "Critical POIs"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ”´ Critical"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 2,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "kpi_warning",
            "queries": [
              {
                "name": "kpi_warning_query",
                "query": {
                  "datasetName": "kpi_metrics",
                  "fields": [
                    {
                      "name": "warning_pois",
                      "expression": "`warning_pois`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "warning_pois",
                  "displayName": "Warning POIs"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸŸ¡ Warning"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "kpi_latency",
            "queries": [
              {
                "name": "kpi_latency_query",
                "query": {
                  "datasetName": "kpi_metrics",
                  "fields": [
                    {
                      "name": "avg_latency_ms",
                      "expression": "`avg_latency_ms`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_latency_ms",
                  "displayName": "Avg Latency (ms)"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Avg Latency (ms)"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 2,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "kpi_connections",
            "queries": [
              {
                "name": "kpi_conn_query",
                "query": {
                  "datasetName": "kpi_metrics",
                  "fields": [
                    {
                      "name": "total_active_connections",
                      "expression": "`total_active_connections`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_active_connections",
                  "displayName": "Active Connections"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Active Connections"
              }
            }
          },
          "position": {
            "x": 5,
            "y": 2,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "state_performance_chart",
            "queries": [
              {
                "name": "state_perf_query",
                "query": {
                  "datasetName": "state_performance",
                  "fields": [
                    {
                      "name": "state",
                      "expression": "`state`"
                    },
                    {
                      "name": "avg_utilization_pct",
                      "expression": "`avg_utilization_pct`"
                    },
                    {
                      "name": "critical_count",
                      "expression": "`critical_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "avg_utilization_pct",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Utilization %"
                },
                "y": {
                  "fieldName": "state",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "State"
                },
                "color": {
                  "fieldName": "state",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "State"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“Š Utilization by State"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 3,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "technology_comparison_chart",
            "queries": [
              {
                "name": "tech_comp_query",
                "query": {
                  "datasetName": "technology_performance",
                  "fields": [
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    },
                    {
                      "name": "avg_utilization_pct",
                      "expression": "`avg_utilization_pct`"
                    },
                    {
                      "name": "avg_latency_ms",
                      "expression": "`avg_latency_ms`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "avg_utilization_pct",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Utilization %"
                },
                "y": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Technology"
                },
                "color": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Technology"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“¡ Technology Performance Comparison"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 3,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "peak_hour_trend_chart",
            "queries": [
              {
                "name": "peak_hour_query",
                "query": {
                  "datasetName": "hourly_trend",
                  "fields": [
                    {
                      "name": "hour",
                      "expression": "`hour`"
                    },
                    {
                      "name": "avg_utilization_pct",
                      "expression": "`avg_utilization_pct`"
                    },
                    {
                      "name": "max_utilization_pct",
                      "expression": "`max_utilization_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "hour",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Hour of Day"
                },
                "y": {
                  "fieldName": "avg_utilization_pct",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Utilization %"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "â° Peak Hour Utilization Trend (Last 7 Days)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 5,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "current_status_table",
            "queries": [
              {
                "name": "current_status_query",
                "query": {
                  "datasetName": "current_poi_status",
                  "fields": [
                    {
                      "name": "poi_id",
                      "expression": "`poi_id`"
                    },
                    {
                      "name": "suburb",
                      "expression": "`suburb`"
                    },
                    {
                      "name": "state",
                      "expression": "`state`"
                    },
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    },
                    {
                      "name": "utilization_pct",
                      "expression": "`utilization_pct`"
                    },
                    {
                      "name": "congestion_status",
                      "expression": "`congestion_status`"
                    },
                    {
                      "name": "avg_latency_ms",
                      "expression": "`avg_latency_ms`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "poi_id",
                    "displayName": "POI ID"
                  },
                  {
                    "fieldName": "suburb",
                    "displayName": "Suburb"
                  },
                  {
                    "fieldName": "state",
                    "displayName": "State"
                  },
                  {
                    "fieldName": "technology_type",
                    "displayName": "Technology"
                  },
                  {
                    "fieldName": "utilization_pct",
                    "displayName": "Utilization %"
                  },
                  {
                    "fieldName": "congestion_status",
                    "displayName": "Status"
                  },
                  {
                    "fieldName": "avg_latency_ms",
                    "displayName": "Latency (ms)"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ” Current POI Status (Top 15 by Utilization)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 7,
            "width": 6,
            "height": 2
          }
        }
      ]
    },
    {
      "name": "capacity_planning",
      "displayName": "Capacity Planning",
      "layout": [
        {
          "widget": {
            "name": "capacity_title",
            "textbox_spec": {
              "value": "# ðŸ“ˆ Capacity Planning & Risk Forecast\n\nML-powered predictions for network capacity over the next 6 months"
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "high_risk_suburbs_table",
            "queries": [
              {
                "name": "risk_forecast_query",
                "query": {
                  "datasetName": "capacity_risk_forecast",
                  "fields": [
                    {
                      "name": "suburb",
                      "expression": "`suburb`"
                    },
                    {
                      "name": "city",
                      "expression": "`city`"
                    },
                    {
                      "name": "state",
                      "expression": "`state`"
                    },
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    },
                    {
                      "name": "current_utilization_pct",
                      "expression": "`current_utilization_pct`"
                    },
                    {
                      "name": "projected_6mo_pct",
                      "expression": "`projected_6mo_pct`"
                    },
                    {
                      "name": "risk_score",
                      "expression": "`risk_score`"
                    },
                    {
                      "name": "upgrade_cost",
                      "expression": "`upgrade_cost`"
                    },
                    {
                      "name": "confidence_pct",
                      "expression": "`confidence_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "suburb",
                    "displayName": "Suburb"
                  },
                  {
                    "fieldName": "city",
                    "displayName": "City"
                  },
                  {
                    "fieldName": "state",
                    "displayName": "State"
                  },
                  {
                    "fieldName": "technology_type",
                    "displayName": "Technology"
                  },
                  {
                    "fieldName": "current_utilization_pct",
                    "displayName": "Current %"
                  },
                  {
                    "fieldName": "projected_6mo_pct",
                    "displayName": "Projected 6-Mo %"
                  },
                  {
                    "fieldName": "risk_score",
                    "displayName": "Risk"
                  },
                  {
                    "fieldName": "upgrade_cost",
                    "displayName": "Upgrade Cost"
                  },
                  {
                    "fieldName": "confidence_pct",
                    "displayName": "Confidence %"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ”´ High Risk Suburbs - 6 Month Capacity Forecast"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 6,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "risk_distribution_chart",
            "queries": [
              {
                "name": "risk_dist_query",
                "query": {
                  "datasetName": "risk_distribution",
                  "fields": [
                    {
                      "name": "risk_score",
                      "expression": "`risk_score`"
                    },
                    {
                      "name": "poi_count",
                      "expression": "`poi_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "poi_count",
                  "displayName": "POI Count"
                },
                "color": {
                  "fieldName": "risk_score",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Risk Score"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“Š Risk Distribution (6-Month Forecast)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "upgrade_cost_chart",
            "queries": [
              {
                "name": "upgrade_cost_query",
                "query": {
                  "datasetName": "upgrade_costs_by_tech",
                  "fields": [
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    },
                    {
                      "name": "total_upgrade_cost",
                      "expression": "`total_upgrade_cost`"
                    },
                    {
                      "name": "pois_needing_upgrade",
                      "expression": "`pois_needing_upgrade`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "total_upgrade_cost",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Total Upgrade Cost (AUD)"
                },
                "y": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Technology"
                },
                "color": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Technology"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ’° Estimated Upgrade Costs by Technology"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 4,
            "width": 3,
            "height": 2
          }
        }
      ]
    },
    {
      "name": "incidents",
      "displayName": "Incidents & Alerts",
      "layout": [
        {
          "widget": {
            "name": "incidents_title",
            "textbox_spec": {
              "value": "# ðŸš¨ Network Incidents & Alerts\n\nHistorical incident tracking and root cause analysis"
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "recent_incidents_table",
            "queries": [
              {
                "name": "incidents_query",
                "query": {
                  "datasetName": "recent_incidents",
                  "fields": [
                    {
                      "name": "incident_id",
                      "expression": "`incident_id`"
                    },
                    {
                      "name": "suburb",
                      "expression": "`suburb`"
                    },
                    {
                      "name": "state",
                      "expression": "`state`"
                    },
                    {
                      "name": "incident_type",
                      "expression": "`incident_type`"
                    },
                    {
                      "name": "severity",
                      "expression": "`severity`"
                    },
                    {
                      "name": "incident_time",
                      "expression": "`incident_time`"
                    },
                    {
                      "name": "duration_hours",
                      "expression": "`duration_hours`"
                    },
                    {
                      "name": "customers_affected",
                      "expression": "`customers_affected`"
                    },
                    {
                      "name": "status",
                      "expression": "`status`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "incident_id",
                    "displayName": "Incident ID"
                  },
                  {
                    "fieldName": "suburb",
                    "displayName": "Suburb"
                  },
                  {
                    "fieldName": "state",
                    "displayName": "State"
                  },
                  {
                    "fieldName": "incident_type",
                    "displayName": "Type"
                  },
                  {
                    "fieldName": "severity",
                    "displayName": "Severity"
                  },
                  {
                    "fieldName": "incident_time",
                    "displayName": "Time"
                  },
                  {
                    "fieldName": "duration_hours",
                    "displayName": "Duration (hrs)"
                  },
                  {
                    "fieldName": "customers_affected",
                    "displayName": "Customers Affected"
                  },
                  {
                    "fieldName": "status",
                    "displayName": "Status"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“‹ Recent Incidents (Last 30 Days)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 6,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "incidents_by_type_chart",
            "queries": [
              {
                "name": "incidents_type_query",
                "query": {
                  "datasetName": "incidents_by_type",
                  "fields": [
                    {
                      "name": "incident_type",
                      "expression": "`incident_type`"
                    },
                    {
                      "name": "incident_count",
                      "expression": "`incident_count`"
                    },
                    {
                      "name": "total_customers_affected",
                      "expression": "`total_customers_affected`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "incident_count",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Incident Count"
                },
                "y": {
                  "fieldName": "incident_type",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Incident Type"
                },
                "color": {
                  "fieldName": "incident_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Incident Type"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“Š Incidents by Type (Last 30 Days)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "incidents_by_severity_chart",
            "queries": [
              {
                "name": "incidents_sev_query",
                "query": {
                  "datasetName": "incidents_by_severity",
                  "fields": [
                    {
                      "name": "severity",
                      "expression": "`severity`"
                    },
                    {
                      "name": "incident_count",
                      "expression": "`incident_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "incident_count",
                  "displayName": "Incident Count"
                },
                "color": {
                  "fieldName": "severity",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Severity"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸŽ¯ Incidents by Severity"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 4,
            "width": 3,
            "height": 2
          }
        }
      ]
    },
    {
      "name": "customer_experience",
      "displayName": "Customer Experience",
      "layout": [
        {
          "widget": {
            "name": "cx_title",
            "textbox_spec": {
              "value": "# ðŸ‘¥ Customer Experience\n\nSpeed achievement and service quality metrics"
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "speed_achievement_pie",
            "queries": [
              {
                "name": "speed_ach_query",
                "query": {
                  "datasetName": "speed_achievement",
                  "fields": [
                    {
                      "name": "speed_tier",
                      "expression": "`speed_tier`"
                    },
                    {
                      "name": "customer_count",
                      "expression": "`customer_count`"
                    },
                    {
                      "name": "percentage",
                      "expression": "`percentage`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "customer_count",
                  "displayName": "Customer Count"
                },
                "color": {
                  "fieldName": "speed_tier",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Speed Achievement Tier"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“¶ Speed Achievement Distribution"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "speed_by_tech_chart",
            "queries": [
              {
                "name": "speed_tech_query",
                "query": {
                  "datasetName": "speed_by_technology",
                  "fields": [
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    },
                    {
                      "name": "avg_speed_achievement_pct",
                      "expression": "`avg_speed_achievement_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "avg_speed_achievement_pct",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Speed Achievement %"
                },
                "y": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Technology"
                },
                "color": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Technology"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“Š Speed Achievement by Technology"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 1,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "churn_risk_chart",
            "queries": [
              {
                "name": "churn_query",
                "query": {
                  "datasetName": "churn_risk_distribution",
                  "fields": [
                    {
                      "name": "risk_category",
                      "expression": "`risk_category`"
                    },
                    {
                      "name": "customer_count",
                      "expression": "`customer_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "customer_count",
                  "displayName": "Customer Count"
                },
                "color": {
                  "fieldName": "risk_category",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Churn Risk Category"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "âš ï¸ Customer Churn Risk Distribution"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 3,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "plan_distribution_chart",
            "queries": [
              {
                "name": "plan_dist_query",
                "query": {
                  "datasetName": "plan_distribution",
                  "fields": [
                    {
                      "name": "plan_tier",
                      "expression": "`plan_tier`"
                    },
                    {
                      "name": "customer_count",
                      "expression": "`customer_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "customer_count",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Customer Count"
                },
                "y": {
                  "fieldName": "plan_tier",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Plan Tier"
                },
                "color": {
                  "fieldName": "plan_tier",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Plan Tier"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "ðŸ“‹ Customer Plan Distribution"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 3,
            "width": 3,
            "height": 2
          }
        }
      ]
    }
  ],
  "datasets": [
    {
      "name": "network_telemetry",
      "displayName": "Network Telemetry",
      "query": "SELECT * FROM zivile.telco.network_telemetry"
    },
    {
      "name": "kpi_metrics",
      "displayName": "KPI Metrics",
      "query": "SELECT \n  COUNT(DISTINCT poi_id) as total_pois,\n  ROUND(AVG(utilization_pct), 1) as avg_utilization_pct,\n  SUM(CASE WHEN congestion_status = 'Critical' THEN 1 ELSE 0 END) as critical_pois,\n  SUM(CASE WHEN congestion_status = 'Warning' THEN 1 ELSE 0 END) as warning_pois,\n  ROUND(AVG(avg_latency_ms), 1) as avg_latency_ms,\n  SUM(active_connections) as total_active_connections\nFROM zivile.telco.network_telemetry\nWHERE timestamp >= current_timestamp() - INTERVAL 1 HOUR"
    },
    {
      "name": "state_performance",
      "displayName": "State Performance",
      "query": "SELECT \n  state,\n  ROUND(AVG(utilization_pct), 1) as avg_utilization_pct,\n  COUNT(DISTINCT poi_id) as num_pois,\n  SUM(CASE WHEN congestion_status = 'Critical' THEN 1 ELSE 0 END) as critical_count\nFROM zivile.telco.network_telemetry\nWHERE timestamp >= current_timestamp() - INTERVAL 1 HOUR\nGROUP BY state\nORDER BY avg_utilization_pct DESC"
    },
    {
      "name": "technology_performance",
      "displayName": "Technology Performance",
      "query": "SELECT \n  technology_type,\n  ROUND(AVG(utilization_pct), 1) as avg_utilization_pct,\n  ROUND(AVG(avg_latency_ms), 1) as avg_latency_ms,\n  ROUND(AVG(packet_loss_pct), 3) as avg_packet_loss_pct,\n  ROUND(AVG(avg_download_speed_pct), 1) as avg_speed_achievement_pct\nFROM zivile.telco.network_telemetry\nWHERE timestamp >= current_timestamp() - INTERVAL 24 HOURS\nGROUP BY technology_type\nORDER BY avg_utilization_pct DESC"
    },
    {
      "name": "hourly_trend",
      "displayName": "Hourly Utilization Trend",
      "query": "SELECT \n  hour,\n  ROUND(AVG(utilization_pct), 1) as avg_utilization_pct,\n  ROUND(MAX(utilization_pct), 1) as max_utilization_pct,\n  ROUND(MIN(utilization_pct), 1) as min_utilization_pct\nFROM zivile.telco.network_telemetry\nWHERE date >= current_date() - INTERVAL 7 DAYS\nGROUP BY hour\nORDER BY hour"
    },
    {
      "name": "current_poi_status",
      "displayName": "Current POI Status",
      "query": "WITH latest_telemetry AS (\n  SELECT \n    poi_id,\n    suburb,\n    state,\n    technology_type,\n    utilization_pct,\n    congestion_status,\n    avg_latency_ms,\n    active_connections,\n    ROW_NUMBER() OVER (PARTITION BY poi_id ORDER BY timestamp DESC) as rn\n  FROM zivile.telco.network_telemetry\n)\nSELECT \n  poi_id,\n  suburb,\n  state,\n  technology_type,\n  utilization_pct,\n  congestion_status,\n  avg_latency_ms,\n  active_connections\nFROM latest_telemetry\nWHERE rn = 1\nORDER BY utilization_pct DESC\nLIMIT 15"
    },
    {
      "name": "capacity_risk_forecast",
      "displayName": "Capacity Risk Forecast",
      "query": "SELECT \n  suburb,\n  city,\n  state,\n  technology_type,\n  ROUND(current_peak_utilization_pct, 1) as current_utilization_pct,\n  ROUND(projected_utilization_pct, 1) as projected_6mo_pct,\n  risk_score,\n  CONCAT('$', FORMAT_NUMBER(estimated_upgrade_cost_aud, 0)) as upgrade_cost,\n  ROUND(confidence_score * 100, 0) as confidence_pct\nFROM zivile.telco.capacity_forecasts\nWHERE months_ahead = 6\n  AND risk_score IN ('Critical', 'High')\nORDER BY projected_utilization_pct DESC"
    },
    {
      "name": "risk_distribution",
      "displayName": "Risk Distribution",
      "query": "SELECT \n  risk_score,\n  COUNT(*) as poi_count\nFROM zivile.telco.capacity_forecasts\nWHERE months_ahead = 6\nGROUP BY risk_score\nORDER BY \n  CASE risk_score \n    WHEN 'Critical' THEN 1 \n    WHEN 'High' THEN 2 \n    WHEN 'Medium' THEN 3 \n    ELSE 4 \n  END"
    },
    {
      "name": "upgrade_costs_by_tech",
      "displayName": "Upgrade Costs by Technology",
      "query": "SELECT \n  technology_type,\n  SUM(estimated_upgrade_cost_aud) as total_upgrade_cost,\n  COUNT(*) as pois_needing_upgrade\nFROM zivile.telco.capacity_forecasts\nWHERE months_ahead = 6\n  AND upgrade_recommended = true\nGROUP BY technology_type\nORDER BY total_upgrade_cost DESC"
    },
    {
      "name": "recent_incidents",
      "displayName": "Recent Incidents",
      "query": "SELECT \n  incident_id,\n  suburb,\n  state,\n  incident_type,\n  severity,\n  DATE_FORMAT(incident_time, 'yyyy-MM-dd HH:mm') as incident_time,\n  ROUND(duration_hours, 1) as duration_hours,\n  FORMAT_NUMBER(customers_affected, 0) as customers_affected,\n  status\nFROM zivile.telco.incidents\nWHERE incident_time >= current_timestamp() - INTERVAL 30 DAYS\nORDER BY incident_time DESC\nLIMIT 20"
    },
    {
      "name": "incidents_by_type",
      "displayName": "Incidents by Type",
      "query": "SELECT \n  incident_type,\n  COUNT(*) as incident_count,\n  SUM(customers_affected) as total_customers_affected\nFROM zivile.telco.incidents\nWHERE incident_time >= current_timestamp() - INTERVAL 30 DAYS\nGROUP BY incident_type\nORDER BY incident_count DESC"
    },
    {
      "name": "incidents_by_severity",
      "displayName": "Incidents by Severity",
      "query": "SELECT \n  severity,\n  COUNT(*) as incident_count\nFROM zivile.telco.incidents\nWHERE incident_time >= current_timestamp() - INTERVAL 30 DAYS\nGROUP BY severity\nORDER BY \n  CASE severity \n    WHEN 'Critical' THEN 1 \n    WHEN 'High' THEN 2 \n    WHEN 'Medium' THEN 3 \n    ELSE 4 \n  END"
    },
    {
      "name": "speed_achievement",
      "displayName": "Speed Achievement",
      "query": "SELECT \n  CASE \n    WHEN speed_achievement_pct >= 90 THEN '90-100% (Excellent)'\n    WHEN speed_achievement_pct >= 75 THEN '75-90% (Good)'\n    WHEN speed_achievement_pct >= 50 THEN '50-75% (Fair)'\n    ELSE 'Below 50% (Poor)'\n  END as speed_tier,\n  COUNT(*) as customer_count,\n  ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(), 1) as percentage\nFROM zivile.telco.customer_usage\nWHERE usage_date >= current_date() - INTERVAL 7 DAYS\nGROUP BY \n  CASE \n    WHEN speed_achievement_pct >= 90 THEN '90-100% (Excellent)'\n    WHEN speed_achievement_pct >= 75 THEN '75-90% (Good)'\n    WHEN speed_achievement_pct >= 50 THEN '50-75% (Fair)'\n    ELSE 'Below 50% (Poor)'\n  END\nORDER BY percentage DESC"
    },
    {
      "name": "speed_by_technology",
      "displayName": "Speed by Technology",
      "query": "SELECT \n  c.technology_type,\n  ROUND(AVG(u.speed_achievement_pct), 1) as avg_speed_achievement_pct\nFROM zivile.telco.customer_usage u\nJOIN zivile.telco.customers c ON u.customer_id = c.customer_id\nWHERE u.usage_date >= current_date() - INTERVAL 7 DAYS\nGROUP BY c.technology_type\nORDER BY avg_speed_achievement_pct DESC"
    },
    {
      "name": "churn_risk_distribution",
      "displayName": "Churn Risk Distribution",
      "query": "SELECT \n  CASE \n    WHEN churn_risk_score >= 0.5 THEN 'High Risk (50%+)'\n    WHEN churn_risk_score >= 0.3 THEN 'Medium Risk (30-50%)'\n    WHEN churn_risk_score >= 0.1 THEN 'Low Risk (10-30%)'\n    ELSE 'Minimal Risk (<10%)'\n  END as risk_category,\n  COUNT(*) as customer_count\nFROM zivile.telco.customers\nWHERE is_active = true\nGROUP BY \n  CASE \n    WHEN churn_risk_score >= 0.5 THEN 'High Risk (50%+)'\n    WHEN churn_risk_score >= 0.3 THEN 'Medium Risk (30-50%)'\n    WHEN churn_risk_score >= 0.1 THEN 'Low Risk (10-30%)'\n    ELSE 'Minimal Risk (<10%)'\n  END\nORDER BY customer_count DESC"
    },
    {
      "name": "plan_distribution",
      "displayName": "Plan Distribution",
      "query": "SELECT \n  plan_tier,\n  COUNT(*) as customer_count\nFROM zivile.telco.customers\nWHERE is_active = true\nGROUP BY plan_tier\nORDER BY customer_count DESC"
    }
  ]
}

