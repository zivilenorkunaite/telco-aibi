{
  "datasets": [
    {
      "name": "network_telemetry_ds",
      "displayName": "Network Telemetry",
      "queryLines": [
        "SELECT * FROM zivile.telco.network_telemetry"
      ]
    },
    {
      "name": "network_kpis",
      "displayName": "Network KPIs",
      "queryLines": [
        "SELECT COUNT(DISTINCT poi_id) as total_pois, ROUND(AVG(utilization_pct), 1) as avg_utilization, SUM(CASE WHEN congestion_status = 'Critical' THEN 1 ELSE 0 END) as critical_count, SUM(CASE WHEN congestion_status = 'Warning' THEN 1 ELSE 0 END) as warning_count, ROUND(AVG(avg_latency_ms), 1) as avg_latency, SUM(active_connections) as total_connections FROM zivile.telco.network_telemetry"
      ]
    },
    {
      "name": "utilization_by_state",
      "displayName": "Utilization by State",
      "queryLines": [
        "SELECT state, ROUND(AVG(utilization_pct), 1) as avg_utilization FROM zivile.telco.network_telemetry GROUP BY state ORDER BY avg_utilization DESC"
      ]
    },
    {
      "name": "utilization_by_tech",
      "displayName": "Utilization by Technology",
      "queryLines": [
        "SELECT technology_type, ROUND(AVG(utilization_pct), 1) as avg_utilization FROM zivile.telco.network_telemetry GROUP BY technology_type ORDER BY avg_utilization DESC"
      ]
    },
    {
      "name": "hourly_trend",
      "displayName": "Hourly Trend",
      "queryLines": [
        "SELECT hour, ROUND(AVG(utilization_pct), 1) as avg_utilization FROM zivile.telco.network_telemetry GROUP BY hour ORDER BY hour"
      ]
    },
    {
      "name": "capacity_forecasts_ds",
      "displayName": "Capacity Forecasts",
      "queryLines": [
        "SELECT * FROM zivile.telco.capacity_forecasts WHERE months_ahead = 6"
      ]
    },
    {
      "name": "capacity_kpis",
      "displayName": "Capacity KPIs",
      "queryLines": [
        "SELECT SUM(CASE WHEN risk_score IN ('Critical', 'High') THEN 1 ELSE 0 END) as high_risk_count, SUM(estimated_upgrade_cost_aud) as total_upgrade_cost, ROUND(AVG(projected_utilization_pct), 1) as avg_projected_util FROM zivile.telco.capacity_forecasts WHERE months_ahead = 6"
      ]
    },
    {
      "name": "incidents_ds",
      "displayName": "Incidents",
      "queryLines": [
        "SELECT * FROM zivile.telco.incidents"
      ]
    },
    {
      "name": "incidents_kpis",
      "displayName": "Incidents KPIs",
      "queryLines": [
        "SELECT COUNT(incident_id) as total_incidents, SUM(customers_affected) as total_affected, ROUND(AVG(duration_hours), 1) as avg_duration FROM zivile.telco.incidents"
      ]
    },
    {
      "name": "customer_usage_ds",
      "displayName": "Customer Usage",
      "queryLines": [
        "SELECT * FROM zivile.telco.customer_usage"
      ]
    },
    {
      "name": "customer_kpis",
      "displayName": "Customer KPIs",
      "queryLines": [
        "SELECT COUNT(*) as total_records, ROUND(AVG(speed_achievement_pct), 1) as avg_speed_pct, ROUND(AVG(download_gb), 1) as avg_download, ROUND(AVG(streaming_hours), 1) as avg_streaming, ROUND(AVG(gaming_hours), 1) as avg_gaming FROM zivile.telco.customer_usage"
      ]
    }
  ],
  "pages": [
    {
      "name": "network_overview",
      "displayName": "Network Overview",
      "layout": [
        {
          "widget": {
            "name": "counter_total_pois",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "network_kpis",
                  "fields": [
                    {
                      "name": "total_pois",
                      "expression": "`total_pois`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_pois",
                  "displayName": "Total POIs"
                }
              },
              "frame": {
                "title": "Total POIs",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_avg_util",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "network_kpis",
                  "fields": [
                    {
                      "name": "avg_utilization",
                      "expression": "`avg_utilization`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_utilization",
                  "displayName": "Avg Utilization %"
                }
              },
              "frame": {
                "title": "Avg Utilization %",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 1,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_critical",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "network_kpis",
                  "fields": [
                    {
                      "name": "critical_count",
                      "expression": "`critical_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "critical_count",
                  "displayName": "Critical"
                }
              },
              "frame": {
                "title": "ðŸ”´ Critical",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 2,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_warning",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "network_kpis",
                  "fields": [
                    {
                      "name": "warning_count",
                      "expression": "`warning_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "warning_count",
                  "displayName": "Warning"
                }
              },
              "frame": {
                "title": "ðŸŸ¡ Warning",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_latency",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "network_kpis",
                  "fields": [
                    {
                      "name": "avg_latency",
                      "expression": "`avg_latency`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_latency",
                  "displayName": "Avg Latency (ms)"
                }
              },
              "frame": {
                "title": "Avg Latency (ms)",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 4,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_connections",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "network_kpis",
                  "fields": [
                    {
                      "name": "total_connections",
                      "expression": "`total_connections`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_connections",
                  "displayName": "Connections"
                }
              },
              "frame": {
                "title": "Active Connections",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 5,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "chart_utilization_by_state",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "utilization_by_state",
                  "fields": [
                    {
                      "name": "state",
                      "expression": "`state`"
                    },
                    {
                      "name": "avg_utilization",
                      "expression": "`avg_utilization`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "avg_utilization",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Utilization %"
                },
                "y": {
                  "fieldName": "state",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "State"
                }
              },
              "frame": {
                "title": "Utilization by State",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_utilization_by_tech",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "utilization_by_tech",
                  "fields": [
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    },
                    {
                      "name": "avg_utilization",
                      "expression": "`avg_utilization`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "avg_utilization",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Utilization %"
                },
                "y": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Technology"
                }
              },
              "frame": {
                "title": "Utilization by Technology",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_hourly_trend",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "hourly_trend",
                  "fields": [
                    {
                      "name": "hour",
                      "expression": "`hour`"
                    },
                    {
                      "name": "avg_utilization",
                      "expression": "`avg_utilization`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "area",
              "encodings": {
                "x": {
                  "fieldName": "hour",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Hour of Day"
                },
                "y": {
                  "fieldName": "avg_utilization",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Utilization %"
                }
              },
              "frame": {
                "title": "Peak Hour Utilization Trend",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 6,
            "width": 6,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_congestion_by_suburb",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "network_telemetry_ds",
                  "fields": [
                    {
                      "name": "suburb",
                      "expression": "`suburb`"
                    },
                    {
                      "name": "congestion_status",
                      "expression": "`congestion_status`"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(*)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "suburb",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "y-reversed"
                    }
                  },
                  "displayName": "Suburb"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count"
                },
                "color": {
                  "fieldName": "congestion_status",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Status"
                }
              },
              "frame": {
                "title": "Congestion Status by Suburb",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 6,
            "height": 4
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "capacity_planning",
      "displayName": "Capacity Planning",
      "layout": [
        {
          "widget": {
            "name": "counter_high_risk",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "capacity_kpis",
                  "fields": [
                    {
                      "name": "high_risk_count",
                      "expression": "`high_risk_count`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "high_risk_count",
                  "displayName": "High Risk POIs"
                }
              },
              "frame": {
                "title": "ðŸ”´ High Risk POIs",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_total_upgrade_cost",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "capacity_kpis",
                  "fields": [
                    {
                      "name": "total_upgrade_cost",
                      "expression": "`total_upgrade_cost`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_upgrade_cost",
                  "displayName": "Upgrade Cost (AUD)"
                }
              },
              "frame": {
                "title": "ðŸ’° Total Upgrade Cost",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 2,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_avg_projected",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "capacity_kpis",
                  "fields": [
                    {
                      "name": "avg_projected_util",
                      "expression": "`avg_projected_util`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_projected_util",
                  "displayName": "Projected Util %"
                }
              },
              "frame": {
                "title": "ðŸ“ˆ Avg Projected Util %",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 4,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "chart_risk_by_suburb",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "capacity_forecasts_ds",
                  "fields": [
                    {
                      "name": "suburb",
                      "expression": "`suburb`"
                    },
                    {
                      "name": "projected_utilization_pct",
                      "expression": "`projected_utilization_pct`"
                    },
                    {
                      "name": "risk_score",
                      "expression": "`risk_score`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "projected_utilization_pct",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Projected Utilization %"
                },
                "y": {
                  "fieldName": "suburb",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Suburb"
                },
                "color": {
                  "fieldName": "risk_score",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Risk"
                }
              },
              "frame": {
                "title": "6-Month Projected Utilization by Suburb",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "chart_upgrade_cost_by_tech",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "capacity_forecasts_ds",
                  "fields": [
                    {
                      "name": "technology_type",
                      "expression": "`technology_type`"
                    },
                    {
                      "name": "sum(estimated_upgrade_cost_aud)",
                      "expression": "SUM(`estimated_upgrade_cost_aud`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "sum(estimated_upgrade_cost_aud)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Upgrade Cost (AUD)"
                },
                "y": {
                  "fieldName": "technology_type",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Technology"
                }
              },
              "frame": {
                "title": "Upgrade Costs by Technology",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_risk_distribution",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "capacity_forecasts_ds",
                  "fields": [
                    {
                      "name": "risk_score",
                      "expression": "`risk_score`"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(*)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "risk_score",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Risk Score"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "POI Count"
                }
              },
              "frame": {
                "title": "Risk Score Distribution",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 8,
            "width": 3,
            "height": 4
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "incidents_page",
      "displayName": "Incidents",
      "layout": [
        {
          "widget": {
            "name": "counter_total_incidents",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "incidents_kpis",
                  "fields": [
                    {
                      "name": "total_incidents",
                      "expression": "`total_incidents`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_incidents",
                  "displayName": "Total Incidents"
                }
              },
              "frame": {
                "title": "Total Incidents",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_customers_affected",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "incidents_kpis",
                  "fields": [
                    {
                      "name": "total_affected",
                      "expression": "`total_affected`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_affected",
                  "displayName": "Customers Affected"
                }
              },
              "frame": {
                "title": "Customers Affected",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 2,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_avg_duration",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "incidents_kpis",
                  "fields": [
                    {
                      "name": "avg_duration",
                      "expression": "`avg_duration`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_duration",
                  "displayName": "Avg Duration (hrs)"
                }
              },
              "frame": {
                "title": "Avg Duration (hrs)",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 4,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "chart_incidents_by_type",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "incidents_ds",
                  "fields": [
                    {
                      "name": "incident_type",
                      "expression": "`incident_type`"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(*)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count"
                },
                "y": {
                  "fieldName": "incident_type",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x",
                      "direction": "descending"
                    }
                  },
                  "displayName": "Incident Type"
                }
              },
              "frame": {
                "title": "Incidents by Type",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_incidents_by_severity",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "incidents_ds",
                  "fields": [
                    {
                      "name": "severity",
                      "expression": "`severity`"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(*)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count"
                },
                "y": {
                  "fieldName": "severity",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Severity"
                }
              },
              "frame": {
                "title": "Incidents by Severity",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_incidents_over_time",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "incidents_ds",
                  "fields": [
                    {
                      "name": "severity",
                      "expression": "`severity`"
                    },
                    {
                      "name": "monthly(incident_time)",
                      "expression": "DATE_TRUNC(\"MONTH\", `incident_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(*)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "monthly(incident_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "Month"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count"
                },
                "color": {
                  "fieldName": "severity",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Severity"
                }
              },
              "frame": {
                "title": "Incidents Over Time by Severity",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 6,
            "width": 6,
            "height": 4
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "customer_experience",
      "displayName": "Customer Experience",
      "layout": [
        {
          "widget": {
            "name": "counter_total_usage_records",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "customer_kpis",
                  "fields": [
                    {
                      "name": "total_records",
                      "expression": "`total_records`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_records",
                  "displayName": "Usage Records"
                }
              },
              "frame": {
                "title": "Total Usage Records",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_avg_speed_achievement",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "customer_kpis",
                  "fields": [
                    {
                      "name": "avg_speed_pct",
                      "expression": "`avg_speed_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_speed_pct",
                  "displayName": "Speed Achievement %"
                }
              },
              "frame": {
                "title": "Avg Speed Achievement %",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 2,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "counter_avg_download",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "customer_kpis",
                  "fields": [
                    {
                      "name": "avg_download",
                      "expression": "`avg_download`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_download",
                  "displayName": "Avg Download (GB)"
                }
              },
              "frame": {
                "title": "Avg Daily Download (GB)",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 4,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "chart_speed_by_day",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "customer_usage_ds",
                  "fields": [
                    {
                      "name": "day_of_week",
                      "expression": "`day_of_week`"
                    },
                    {
                      "name": "avg(speed_achievement_pct)",
                      "expression": "AVG(`speed_achievement_pct`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "day_of_week",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Day of Week"
                },
                "y": {
                  "fieldName": "avg(speed_achievement_pct)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Speed Achievement %"
                }
              },
              "frame": {
                "title": "Speed Achievement by Day of Week",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_usage_trend",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "customer_usage_ds",
                  "fields": [
                    {
                      "name": "usage_date",
                      "expression": "`usage_date`"
                    },
                    {
                      "name": "sum(download_gb)",
                      "expression": "SUM(`download_gb`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "area",
              "encodings": {
                "x": {
                  "fieldName": "usage_date",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "Date"
                },
                "y": {
                  "fieldName": "sum(download_gb)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Total Download (GB)"
                }
              },
              "frame": {
                "title": "Daily Download Trend",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_streaming_hours",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "customer_usage_ds",
                  "fields": [
                    {
                      "name": "day_of_week",
                      "expression": "`day_of_week`"
                    },
                    {
                      "name": "avg(streaming_hours)",
                      "expression": "AVG(`streaming_hours`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "day_of_week",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Day of Week"
                },
                "y": {
                  "fieldName": "avg(streaming_hours)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Streaming Hours"
                }
              },
              "frame": {
                "title": "Streaming Hours by Day of Week",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 6,
            "width": 3,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "chart_gaming_hours",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "customer_usage_ds",
                  "fields": [
                    {
                      "name": "day_of_week",
                      "expression": "`day_of_week`"
                    },
                    {
                      "name": "avg(gaming_hours)",
                      "expression": "AVG(`gaming_hours`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "day_of_week",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Day of Week"
                },
                "y": {
                  "fieldName": "avg(gaming_hours)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Avg Gaming Hours"
                }
              },
              "frame": {
                "title": "Gaming Hours by Day of Week",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 6,
            "width": 3,
            "height": 4
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ]
}
